@model MangmentStatistics

<div id="mytask-layout" class="theme-indigo">

    <partial name="MenuTab" model="@Model.CompanyInfromation" />
    <div class="main px-lg-4 px-md-4">

        <div class="body d-flex py-3">
            <div class="container-xxl">
                <div class="row clearfix g-3">
                    <div class="col-xl-12 mt-5 col-lg-12 col-md-12 flex-column">
                        <div class="row g-3">

                            <div class="body d-flex py-3">
                                <div class="container-xxl">
                                    <div class="row g-3 mb-3 row-deck">
                                        <div class="col-md-12 col-lg-3 col-xl-3 col-xxl-3">
                                            <div class="card ">
                                                <div class="card-body">
                                                    <div class="d-flex align-items-center">
                                                        <div class="avatar lg  rounded-1 no-thumbnail bg-lightyellow color-defult"><i class="bi bi-journal-check fs-4"></i></div>
                                                        <div class="flex-fill ms-4">
                                                            <div class="mx-2">عدد الموظفين</div>
                                                            <h6 class="mb-0 mx-2">@Model.Employees.Count()</h6>
                                                        </div>
                                                        <a asp-action="AddEmployee" asp-controller="Employee" title="view-members" class="btn btn-link text-decoration-none  rounded-1"><i class="icofont-hand-drawn-left fs-2 "></i></a>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-12 col-lg-3 col-xl-3 col-xxl-3">
                                            <div class="card ">
                                                <div class="card-body">
                                                    <div class="d-flex align-items-center">
                                                        <div class="avatar lg  rounded-1 no-thumbnail bg-lightgreen color-defult"><i class="bi bi-clipboard-data fs-4"></i></div>
                                                        <div class="flex-fill ms-4">
                                                            <div class="mx-2">الأذونات</div>
                                                            <h6 class="mb-0 mx-2">@Model.ExitePrmissions.Count()</h6>
                                                        </div>
                                                        <a asp-action="AllEmployeeLeaves" asp-controller="Employee" title="renewal-date" class="btn btn-link text-decoration-none  rounded-1"><i class="icofont-hand-drawn-left fs-2 "></i></a>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-12 col-lg-3 col-xl-3 col-xxl-3">
                                            <div class="card ">
                                                <div class="card-body">
                                                    <div class="d-flex align-items-center">
                                                        <div class="avatar lg  rounded-1 no-thumbnail bg-lightblue color-defult"><i class="bi bi-list-check fs-4"></i></div>
                                                        <div class="flex-fill ms-4">
                                                            <div class="mx-2">الاجازات</div>
                                                            <h6 class="mb-0 mx-2">@Model.EmployeeHolidays.Count()</h6>
                                                        </div>
                                                        <a asp-action="AllEmployeeHoliday" asp-controller="Employee" title="space-used" class="btn btn-link text-decoration-none  rounded-1"><i class="icofont-hand-drawn-left fs-2 "></i></a>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-12 col-lg-3 col-xl-3 col-xxl-3">
                                            <div class="card ">
                                                <div class="card-body">
                                                    <div class="d-flex align-items-center">
                                                        <div class="avatar lg  rounded-1 no-thumbnail bg-lightgreen color-defult"><i class="bi bi-clipboard-data fs-4"></i></div>
                                                        <div class="flex-fill ms-4">
                                                            <div class="mx-2">الساعات الاضافية</div>
                                                            <h6 class="mb-0 mx-2">@Model.WorkTimes.Where(c=>c.ExtraHours==true).Count()</h6>
                                                        </div>
                                                        <a asp-action="AddEmployee" asp-controller="Employee" title="renewal-date" class="btn btn-link text-decoration-none  rounded-1"><i class="icofont-hand-drawn-left fs-2 "></i></a>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                    <div class="col-xl-6 col-lg-12 col-md-12">
                        <div class="row g-3 row-deck">


                            <div class="col-md-12 col-lg-12 col-xl-12">
                                <div class="card">
                                    <div class="card-header py-3 d-flex justify-content-between bg-transparent border-bottom-0">
                                        <h6 class="mb-0 fw-bold ">الأذونـــات</h6>
                                    </div>
                                    @foreach (var item in Model.ExitePrmissions.OrderByDescending(c=>c.DayExit).Take(7))
                                    {
                                        <div class="card-body">
                                            <div class="flex-grow-1">
                                                <div class="py-2 d-flex align-items-center border-bottom flex-wrap">
                                                    <div class="d-flex align-items-center flex-fill">
                                                        <img class="avatar lg rounded-circle img-thumbnail" src="~/assets/images/lg/avatar3.jpg" alt="profile">
                                                        <div class="d-flex flex-column ps-3">
                                                            <h6 class="fw-bold mb-0 small-14">@item.Employee.FullName</h6>
                                                            <span class="text-muted">@item.Employee.Jobs.JobName</span>
                                                        </div>
                                                    </div>
                                                    <div class="time-block text-truncate">
                                                        <i class="icofont-clock-time"></i> @item.TimeOut.ToShortTimeString() - @item.TimeBack.ToShortTimeString()
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    }

                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-6 col-lg-12 col-md-12">
                        <div class="row g-3 row-deck">


                            <div class="col-md-12 col-lg-12 col-xl-12">
                                <div class="card">
                                    <div class="card-header py-3 d-flex justify-content-between bg-transparent border-bottom-0">
                                        <h6 class="mb-0 fw-bold ">الاجـــازات</h6>
                                    </div>
                                    @foreach (var item in Model.EmployeeHolidays.OrderByDescending(c=>c.FirstHolidayDay).Take(7))
                                    {
                                        <div class="card-body">
                                            <div class="flex-grow-1">
                                                <div class="py-2 d-flex align-items-center border-bottom flex-wrap">
                                                    <div class="d-flex align-items-center flex-fill">
                                                        <img class="avatar lg rounded-circle img-thumbnail" src="~/assets/images/lg/avatar3.jpg" alt="profile">
                                                        <div class="d-flex flex-column ps-3">
                                                            <h6 class="fw-bold mb-0 small-14">@item.Employee.FullName</h6>
                                                            <span class="text-muted">@item.Employee.Jobs.JobName</span>
                                                        </div>
                                                    </div>
                                                    <div class="time-block text-truncate">
                                                       @item.FirstHolidayDay.ToShortDateString() -- @item.HolidayState
                                                    </div>
                                                </div>

                                            </div>
                                        </div>
                                    }
                                    </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>

       
    </div>
</div>